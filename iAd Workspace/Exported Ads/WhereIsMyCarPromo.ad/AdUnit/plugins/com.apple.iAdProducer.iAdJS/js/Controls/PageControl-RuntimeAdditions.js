
/**
*
* Copyright Â© 2009-2011 Apple Inc.  All rights reserved.
*
**/

iAd.PageControl.prototype.updateLayout=function(){};iAd.PageControl.prototype.setNumberOfPages=function(b){if(this._numberOfPages==b||b<0){return}if(this.dots.length>b){while(this.dots.length>b){this.layer.removeChild(this.dots.pop())}}else{while(this.dots.length<b){this.dots.push(this.layer.appendChild(document.createElement("div")));this.dots[this.dots.length-1].appendChild(document.createElement("div"))}}this._numberOfPages=b;if(this.currentPage>=b){this.currentPage=b-1}this.updateCurrentPageDisplay();this.updateVisibility();var a=this.layer.style.display;this.layer.style.display="none";this.layer.offsetHeight;this.layer.style.display=a};iAd.PageControl.prototype.handleEvent=function(c){this.callSuper(c);if(c.type==iAd.View.ACTIVATE_EVENT&&c.ad.originalEvent.type==iAd.Event.END_EVENT){c=c.ad.originalEvent;if(this.numberOfPages<=1){return}else{if(this.numberOfPages==2&&(iAd.Device.iOS_VERSION||!iAP.Context.projectIsOfType("iTunesProject"))){this.currentPage=this.currentPage?0:1;return}}var d=c.target;for(var a=0,b=this.dots.length;a<b;a++){if(this.dots[a].contains(d)){if(iAd.Device.iOS_VERSION||!iAP.Context.projectIsOfType("iTunesProject")){if(a>this.numberOfPages/2-1){this.currentPage++}else{this.currentPage--}}else{this.currentPage=a}break}}}else{if(c.type==iAd.View.ACTIVATE_EVENT){this.currentPage=(this.numberOfPages+(this.currentPage+1)%this.numberOfPages)%this.numberOfPages}}};(function(){iAd.Class.synthesizeProperty(iAd.PageControl.prototype,"color");iAd.PageControl.archivedProperties.push("color");iAd.PageControl.prototype.setColor=function(b){this._color=b;for(var c=0,d=this.dots.length;c<d;c++){this.dots[c].firstElementChild.style.backgroundColor=b}};iAd.Class.processMethod(iAd.PageControl,"setNumberOfPages");var a=iAd.PageControl.prototype.setNumberOfPages;iAd.PageControl.prototype.setNumberOfPages=function(b){a.apply(this,arguments);this.setColor(this._color)}})();