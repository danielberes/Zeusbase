
/**
*
* Copyright Â© 2009-2011 Apple Inc.  All rights reserved.
*
**/

iAd.Video.loadReadyStrategy=function(a){return a.canPlay};iAd.Video.urlStrategy=function(a){if(!window.ad){return a}if(!iAd.VideoWifiToCellularMapping){return a}if(window.ad.networkType!=4){return iAd.VideoWifiToCellularMapping[a]||a}else{return a}};iAd.VideoPlayer.prototype.layerWasInsertedIntoDocument=function(){this.callSuper();this.resetQuarterlyMilestoneMarkers()};(function(){iAd.Class.processMethod(iAd.VideoPlayer,"init");var c=iAd.VideoPlayer.prototype.init;iAd.VideoPlayer.prototype.init=function(e){c.apply(this,arguments);this._quarterlyMilestonesPending={1:{isPending:true,name:"mediaDidUpdateTime25"},2:{isPending:true,name:"mediaDidUpdateTime50"},3:{isPending:true,name:"mediaDidUpdateTime75"}}};iAd.VideoPlayer.prototype.mediaDidUpdateTime=function(h,g){this.callSuper.apply(this,arguments);var f=(g/this.media.duration);if(isNaN(f)){return}var e=Math.floor(f*4);var i=this._quarterlyMilestonesPending[e];if(i&&i.isPending===true){i.isPending=false;iAd.Analytics.logEvent(i.name,this)}};iAd.Class.processMethod(iAd.VideoPlayer,"mediaPlaybackDidEnd");var a=iAd.VideoPlayer.prototype.mediaPlaybackDidEnd;iAd.VideoPlayer.prototype.mediaPlaybackDidEnd=function(){a.apply(this,arguments);this.resetQuarterlyMilestoneMarkers()};iAd.Class.processMethod(iAd.VideoPlayer,"setVideo");var d=iAd.VideoPlayer.prototype.setVideo;iAd.VideoPlayer.prototype.setVideo=function(){d.apply(this,arguments);this.resetQuarterlyMilestoneMarkers()};iAd.VideoPlayer.prototype.play=function(){this.callSuper();if(this.showsControls){this.userInteractionEnabled=false}};iAd.Class.processMethod(iAd.VideoPlayer,"setPosterImageVisible");var b=iAd.VideoPlayer.prototype.setPosterImageVisible;iAd.VideoPlayer.prototype.setPosterImageVisible=function(e){b.apply(this,arguments);if(this._posterImageVisible&&this.showsControls){this.userInteractionEnabled=true}};iAd.VideoPlayer.prototype.resetQuarterlyMilestoneMarkers=function(){for(var e in this._quarterlyMilestonesPending){this._quarterlyMilestonesPending[e].isPending=true}}})();